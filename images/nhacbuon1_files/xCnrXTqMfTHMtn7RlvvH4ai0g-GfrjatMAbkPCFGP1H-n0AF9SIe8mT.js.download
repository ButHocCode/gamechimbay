if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWCMBotMenuItems.react",["fbt","ix","CommunityBotEnabledStatus","GroupsCometHowdyBotManageBotDialog.entrypoint","GroupsCometHowdyBotSetupDialog.entrypoint","I64","LS.re","LSCommunityBitOffset.re","LSCommunityCapabilityBitOffset.re","LSIssueBotsInfoFetch","MWCMUseFolder.re","MWMenuItem.react","ReQL","ReQLSuspense","SVGIcon","cr:3856","fbicon","react","regeneratorRuntime","useCometEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect,l=h._("__JHASH__Nz8a0XIAuPx__JHASH__");function m(){return b("cr:3856")===null?null:d("SVGIcon").legacySVGIcon(function(){return j.jsx(b("cr:3856"),{color:"primary",size:24})})}var n=function(a){var b=a.onClick;a=a.renderWrapper;var e=m();e=j.jsx(c("MWMenuItem.react"),{icon:e!==null?e:d("fbicon")._(i("497567"),20),onClick:b,primaryText:l});return a!=null?a(e):e},o=function(a){var b=a.botId,d=a.fbGroupId,e=a.renderWrapper;a=a.threadKey;a=c("useCometEntryPointDialog")(c("GroupsCometHowdyBotSetupDialog.entrypoint"),{routeParams:{thread_id:a},routeProps:{botID:b,groupID:d}});var f=a[0];return j.jsx(n,{onClick:function(){return f({})},renderWrapper:e})},p=function(a){var b=a.botId,d=a.botSettingsID,e=a.fbGroupId,f=a.renderWrapper;a=a.threadKey;a=c("useCometEntryPointDialog")(c("GroupsCometHowdyBotManageBotDialog.entrypoint"),{routeParams:{thread_id:a},routeProps:{botID:b,botSettingsID:d,groupID:e}});var g=a[0];return j.jsx(n,{onClick:function(){return g({})},renderWrapper:f})},q=function(a){var e=a.botId,f=a.folder,g=a.renderWrapper,h=a.thread,i=c("useReStore")();a=d("I64").to_string(h.threadKey);k(function(){var a=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(i.runInTransaction(function(a){return c("LSIssueBotsInfoFetch")(h.threadKey,d("LS.re").make(a))},"readwrite"));case 2:case"end":return a.stop()}},null,this)};a()},[i,a]);var l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(i.table("bots")).getKeyRange(h.threadKey).filter(function(a){a=a.botId;return a!=null&&d("I64").to_string(a)===e})},[i,a]);return l==null?null:l.enabledStatus===c("CommunityBotEnabledStatus").ENABLED&&l.botSettingsId!=null?j.jsx(p,{botId:e,botSettingsID:d("I64").to_string(l.botSettingsId),fbGroupId:d("I64").to_string(f.fbGroupId),renderWrapper:g,threadKey:a}):j.jsx(o,{botId:e,fbGroupId:d("I64").to_string(f.fbGroupId),renderWrapper:g,threadKey:a})};function a(a){var b=a.botId,e=a.renderWrapper;a=a.thread;var f=d("MWCMUseFolder.re").useFolder(a),g=f!=null?c("LSCommunityBitOffset.re").has(d("LSCommunityCapabilityBitOffset.re").adminActions,f):!1,h=f!=null?c("LSCommunityBitOffset.re").has(d("LSCommunityCapabilityBitOffset.re").isCommunityBotsEnabled,f):!1;return!f||!g||!h?null:j.jsx(q,{botId:b,folder:f,renderWrapper:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWV2MessageProfilePhotoMenu.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactTypeExact.bs","MWCMAdminActionMenuItems.bs","MWCMBotMenuItems.react","MWCMThreadTypes.bs","MWLSGroupMembershipMenu.bs","MWMenu.react","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.onClose;var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:c.threadKey,tl:0})},[d,JSON.stringify(c.threadKey)])),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:{hd:c.senderId,tl:0}})},[JSON.stringify(c.threadKey),JSON.stringify(c.senderId),d])),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c.senderId,tl:0})},[JSON.stringify(c.senderId),d])),i=function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").isCommunityBotPage,a),!1)};a=f!==void 0&&g!==void 0&&e!==void 0&&!i(g)?h.jsx(b("MWLSGroupMembershipMenu.bs").ViewProfileMenuItem.make,{onCloseDialog:a,contactId:g.id,secondaryName:g.secondaryName,isIgUser:b("bs_caml").i64_eq(g.contactTypeExact,b("LSContactTypeExact.bs").igUser),thread:e}):null;f=f!==void 0&&g!==void 0&&e!==void 0&&!i(g)?h.jsx(b("MWLSGroupMembershipMenu.bs").MessageUserMenuItem.make,{contactId:g.id,thread:e}):null;var j=e!==void 0&&g!==void 0&&b("MWCMThreadTypes.bs").isAnyCMThread(e.threadType)&&!i(g)?h.jsx(b("MWCMAdminActionMenuItems.bs").make,{contactId:g.id,thread:e}):null;i=e!==void 0&&g!==void 0&&b("MWCMThreadTypes.bs").isAnyCMThread(e.threadType)&&i(g)?h.jsx(b("MWCMBotMenuItems.react"),{thread:e,botId:b("bs_int64").to_string(g.id)}):null;return h.jsxs(b("MWMenu.react"),{children:[a,f,j,i],size:"small",withArrow:!0})}c=a;f.make=c}),null);
__d("MWV2MessageProfilePhotoMenu",["MWV2MessageProfilePhotoMenu.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWV2MessageProfilePhotoMenu.bs").make}),98);/*FB_PKG_DELIM*/
__d("GroupsCometMembersRemoveMemberDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6368176609864885"}),null);
__d("GroupsCometMembersRemoveMemberDialogQuery$Parameters",["GroupsCometMembersRemoveMemberDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometMembersRemoveMemberDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometMembersRemoveMemberDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometMembersRemoveMemberDialog.entrypoint",["GroupsCometMembersRemoveMemberDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.groupID;a=a.memberID;return{queries:{removeMemberQueryReference:{parameters:b("GroupsCometMembersRemoveMemberDialogQuery$Parameters"),variables:{groupID:c,memberID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometMembersRemoveMemberDialog.react").__setRef("GroupsCometMembersRemoveMemberDialog.entrypoint")};g["default"]=a}),98);
__d("MWInboxInfoPanelContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({isExpanded:void 0,setIsExpanded:function(a){},shouldNavToMemberRequests:!1,setShouldNavToMemberRequests:function(a){},pushMemberRequestsPage:function(a){},setPushMemberRequestsPage:function(a){},isOnMemberRequestsPageRef:{current:!1}});function a(a){var b=a.isExpanded,c=a.setIsExpanded;a=a.children;var d=h.useRef(!1),e=d.current,f=h.useRef(function(a){}),g=f.current,j=h.useRef(!1),k=h.useMemo(function(){return{isExpanded:b,setIsExpanded:c,shouldNavToMemberRequests:e,setShouldNavToMemberRequests:function(a){d.current=a},pushMemberRequestsPage:g,setPushMemberRequestsPage:function(a){f.current=a},isOnMemberRequestsPageRef:j}},[b,c,e,g,j]);return h.createElement(i.Provider,{value:k,children:a})}c=a;f.context=i;f.make=c}),null);/*FB_PKG_DELIM*/
__d("GroupsCometHowdyBotManageBotDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428154807266566"}),null);
__d("GroupsCometHowdyBotManageBotDialogQuery$Parameters",["GroupsCometHowdyBotManageBotDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometHowdyBotManageBotDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometHowdyBotManageBotDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5751654941532675"}),null);
__d("GroupsCometHowdyBotSetupDialogQuery$Parameters",["GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometHowdyBotSetupDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ProfileCometReviewsExplanationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5142745809118385"}),null);
__d("ProfileCometReviewsExplanationDialogQuery$Parameters",["ProfileCometReviewsExplanationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ProfileCometReviewsExplanationDialogQuery_facebookRelayOperation"),metadata:{},name:"ProfileCometReviewsExplanationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometHowdyBotManageBotDialog.entrypoint",["GroupsCometHowdyBotManageBotDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.routeProps.botID;a=a.routeProps.botSettingsID;return{queries:{queryReference:{parameters:c("GroupsCometHowdyBotManageBotDialogQuery$Parameters"),variables:{botID:b,botSettingsID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometHowdyBotManageBotDialog.react").__setRef("GroupsCometHowdyBotManageBotDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometHowdyBotSetupDialog.entrypoint",["GroupsCometHowdyBotSetupDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.routeProps.botID;return{extraProps:{threadID:(a=a.routeParams.thread_id)!=null?a:null},queries:{queryReference:{parameters:c("GroupsCometHowdyBotSetupDialogQuery$Parameters"),variables:{botID:b,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometHowdyBotSetupDialog.react").__setRef("GroupsCometHowdyBotSetupDialog.entrypoint")};g["default"]=a}),98);
__d("ProfileCometReviewsExplanationDialog.entrypoint",["JSResourceForInteraction","ProfileCometReviewsExplanationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.profileID;return{queries:{queryReference:{parameters:b("ProfileCometReviewsExplanationDialogQuery$Parameters"),variables:{profileID:a}}}}},root:c("JSResourceForInteraction")("ProfileCometReviewsExplanationDialog.react").__setRef("ProfileCometReviewsExplanationDialog.entrypoint")};g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSOverwriteAllThreadParticipantsAdminStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(14).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({isAdmin:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateThreadParticipantAdminStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.contactId,a[1])}),function(b){var c=b.update;b.item;return c({isAdmin:a[2]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);